import { getRegistryItem } from "@glinui/registry"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
  TableCaption
} from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"
import { createDocsMetadata } from "@/lib/docs-metadata"

export const dynamic = "force-static"
export const item = getRegistryItem("table")
export const sources = getComponentSources(item?.files)
export const metadata = createDocsMetadata({
  title: "Table",
  description: item?.description ?? "Composable data table with semantic sections and glass variant support.",
  path: "/docs/components/table"
})

<ComponentDocLayout
  badgeLabel="Primitive / Organism"
  componentId="table"
  implementation="radix"
  title="Table"
  description={item?.description ?? "Composable data table with semantic sections and glass variant support."}
>
  ## Installation

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "npm install @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add table"} />

  ## Usage

  Use `Table` when you need low-level, fully custom markup. If you want built-in search, sorting, pagination, row selection, and column controls, use `DataTable` at `/docs/components/base/data-table`.

  <ExampleBlock
    code={`import { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from "@glinui/ui"

export function TableBasicDemo() {
  return (
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>Project</TableHead>
          <TableHead>Status</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Glin UI</TableCell>
          <TableCell>Active</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  )
}`}
  >
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>Project</TableHead>
          <TableHead>Status</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Glin UI</TableCell>
          <TableCell>Active</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </ExampleBlock>

  ## Examples

  ### When to choose Table vs DataTable

  - Use `Table` for invoices, comparison matrices, read-only reports, and layouts where you control every row and cell.
  - Use `DataTable` for operational data views where users need filtering, sorting, pagination, and row selection with minimal setup.

  ### Glass Variant

  <ExampleBlock
    code={`import { Table, TableHeader, TableRow, TableHead, TableBody, TableCell, TableCaption } from "@glinui/ui"

export function TableGlassDemo() {
  return (
    <Table variant="glass" grid>
      <TableCaption>Quarterly metrics</TableCaption>
      <TableHeader>
        <TableRow>
          <TableHead>Metric</TableHead>
          <TableHead align="right">Value</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Conversion</TableCell>
          <TableCell align="right">7.3%</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  )
}`}
  >
    <Table variant="glass" grid>
      <TableCaption>Quarterly metrics</TableCaption>
      <TableHeader>
        <TableRow>
          <TableHead>Metric</TableHead>
          <TableHead align="right">Value</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Conversion</TableCell>
          <TableCell align="right">7.3%</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </ExampleBlock>

  ### Sticky Header + Striped

  <ExampleBlock
    code={`import { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from "@glinui/ui"

const rows = [
  { region: "North America", users: "12,400", conversion: "8.2%" },
  { region: "Europe", users: "9,280", conversion: "7.5%" },
  { region: "APAC", users: "15,032", conversion: "6.9%" },
  { region: "LATAM", users: "4,310", conversion: "5.8%" },
]

export function TableStickyDemo() {
  return (
    <Table stickyHeader striped containerClassName="max-h-56">
      <TableHeader>
        <TableRow>
          <TableHead>Region</TableHead>
          <TableHead align="right">Users</TableHead>
          <TableHead align="right">Conversion</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {rows.map((row) => (
          <TableRow key={row.region}>
            <TableCell>{row.region}</TableCell>
            <TableCell align="right">{row.users}</TableCell>
            <TableCell align="right">{row.conversion}</TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  )
}`}
  >
    <Table stickyHeader striped containerClassName="max-h-56">
      <TableHeader>
        <TableRow>
          <TableHead>Region</TableHead>
          <TableHead align="right">Users</TableHead>
          <TableHead align="right">Conversion</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {[
          { region: "North America", users: "12,400", conversion: "8.2%" },
          { region: "Europe", users: "9,280", conversion: "7.5%" },
          { region: "APAC", users: "15,032", conversion: "6.9%" },
          { region: "LATAM", users: "4,310", conversion: "5.8%" },
          { region: "Middle East", users: "2,980", conversion: "6.2%" },
          { region: "Africa", users: "1,740", conversion: "4.7%" },
        ].map((row) => (
          <TableRow key={row.region}>
            <TableCell>{row.region}</TableCell>
            <TableCell align="right">{row.users}</TableCell>
            <TableCell align="right">{row.conversion}</TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  </ExampleBlock>

  ### Sticky First Column

  <ExampleBlock
    code={`import { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from "@glinui/ui"

export function TableStickyFirstColumnDemo() {
  return (
    <Table stickyFirstColumn noWrap variant="matte">
      <TableHeader>
        <TableRow>
          <TableHead>Feature</TableHead>
          <TableHead align="right">Jan</TableHead>
          <TableHead align="right">Feb</TableHead>
          <TableHead align="right">Mar</TableHead>
          <TableHead align="right">Apr</TableHead>
          <TableHead align="right">May</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Active Teams</TableCell>
          <TableCell align="right">89</TableCell>
          <TableCell align="right">94</TableCell>
          <TableCell align="right">102</TableCell>
          <TableCell align="right">108</TableCell>
          <TableCell align="right">113</TableCell>
        </TableRow>
        <TableRow tone="success">
          <TableCell>Release Velocity</TableCell>
          <TableCell align="right">+8%</TableCell>
          <TableCell align="right">+11%</TableCell>
          <TableCell align="right">+14%</TableCell>
          <TableCell align="right">+16%</TableCell>
          <TableCell align="right">+19%</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  )
}`}
  >
    <Table stickyFirstColumn noWrap variant="matte">
      <TableHeader>
        <TableRow>
          <TableHead>Feature</TableHead>
          <TableHead align="right">Jan</TableHead>
          <TableHead align="right">Feb</TableHead>
          <TableHead align="right">Mar</TableHead>
          <TableHead align="right">Apr</TableHead>
          <TableHead align="right">May</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Active Teams</TableCell>
          <TableCell align="right">89</TableCell>
          <TableCell align="right">94</TableCell>
          <TableCell align="right">102</TableCell>
          <TableCell align="right">108</TableCell>
          <TableCell align="right">113</TableCell>
        </TableRow>
        <TableRow tone="success">
          <TableCell>Release Velocity</TableCell>
          <TableCell align="right">+8%</TableCell>
          <TableCell align="right">+11%</TableCell>
          <TableCell align="right">+14%</TableCell>
          <TableCell align="right">+16%</TableCell>
          <TableCell align="right">+19%</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </ExampleBlock>

  ## Accessibility

  - Uses semantic table elements (`table`, `thead`, `tbody`, `th`, `td`, `caption`).
  - Keep column headers descriptive for screen reader table navigation.
  - Use `TableCaption` to provide context when needed.

  ## Reduced Motion

  Row hover transitions respect reduced-motion preferences.

  ## API Reference

  <PropsTable componentId="table" autoAppendGenerated />

  ## Source

  ```tsx
  import { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
