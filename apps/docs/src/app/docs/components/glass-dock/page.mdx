import { getRegistryItem } from "@glinui/registry"
import { GlassDock } from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"
import { Home, Search, Settings, User, Mail, FolderOpen, Camera, Music, Film, Globe, MessageCircle, Bell } from "lucide-react"
import { createDocsMetadata } from "@/lib/docs-metadata"

export const dynamic = "force-static"
export const item = getRegistryItem("glass-dock")
export const sources = getComponentSources(item?.files)
export const metadata = createDocsMetadata({
  title: "Glass Dock",
  description: item?.description ?? "macOS-style dock with proximity magnification and frosted glass surface.",
  path: "/docs/components/glass-dock"
})

<ComponentDocLayout
  badgeLabel="Signature / Molecule"
  componentId="glass-dock"
  implementation="css"
  title="Glass Dock"
  description={item?.description ?? "macOS-style dock with proximity magnification and frosted glass surface."}
>
  ## Installation

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add glass-dock"} />

  ## Usage

  `GlassDock` is a `"use client"` component. Pass an array of `items` with `id`, `icon`, `label`, and optional `onClick`. Icons magnify as the cursor approaches.

  ### Basic

  <ExampleBlock
    codeDefaultOpen
    code={`"use client"
import { GlassDock } from "@glinui/ui"
import { Home, Search, Settings, User, Mail } from "lucide-react"

export function GlassDockDemo() {
  return (
    <div className="flex items-center justify-center p-12">
      <GlassDock
        items={[
          { id: "home", icon: <Home className="size-full" />, label: "Home" },
          { id: "search", icon: <Search className="size-full" />, label: "Search" },
          { id: "settings", icon: <Settings className="size-full" />, label: "Settings" },
          { id: "profile", icon: <User className="size-full" />, label: "Profile" },
          { id: "mail", icon: <Mail className="size-full" />, label: "Mail" }
        ]}
      />
    </div>
  )
}`}
  >
    <div className="flex items-center justify-center p-12">
      <GlassDock
        items={[
          { id: "home", icon: <Home className="size-full" />, label: "Home" },
          { id: "search", icon: <Search className="size-full" />, label: "Search" },
          { id: "settings", icon: <Settings className="size-full" />, label: "Settings" },
          { id: "profile", icon: <User className="size-full" />, label: "Profile" },
          { id: "mail", icon: <Mail className="size-full" />, label: "Mail" }
        ]}
      />
    </div>
  </ExampleBlock>

  ## Examples

  ### High Magnification

  <ExampleBlock
    code={`"use client"
import { GlassDock } from "@glinui/ui"
import { FolderOpen, Camera, Music, Film, Globe, MessageCircle } from "lucide-react"

export function GlassDockMagDemo() {
  return (
    <div className="flex items-center justify-center p-12">
      <GlassDock
        magnification={2}
        distance={150}
        iconSize={56}
        items={[
          { id: "files", icon: <FolderOpen className="size-full" />, label: "Files" },
          { id: "photos", icon: <Camera className="size-full" />, label: "Photos" },
          { id: "music", icon: <Music className="size-full" />, label: "Music" },
          { id: "video", icon: <Film className="size-full" />, label: "Video" },
          { id: "web", icon: <Globe className="size-full" />, label: "Browser" },
          { id: "messages", icon: <MessageCircle className="size-full" />, label: "Messages" }
        ]}
      />
    </div>
  )
}`}
  >
    <div className="flex items-center justify-center p-12">
      <GlassDock
        magnification={2}
        distance={150}
        iconSize={56}
        items={[
          { id: "files", icon: <FolderOpen className="size-full" />, label: "Files" },
          { id: "photos", icon: <Camera className="size-full" />, label: "Photos" },
          { id: "music", icon: <Music className="size-full" />, label: "Music" },
          { id: "video", icon: <Film className="size-full" />, label: "Video" },
          { id: "web", icon: <Globe className="size-full" />, label: "Browser" },
          { id: "messages", icon: <MessageCircle className="size-full" />, label: "Messages" }
        ]}
      />
    </div>
  </ExampleBlock>

  ## Accessibility

  - Renders with `role="toolbar"` and `aria-label="Dock"`.
  - Each item is a `<button>` with `aria-label` set to the item label.
  - Item tooltips appear on hover using the `title` attribute.

  ## Reduced Motion

  When `prefers-reduced-motion: reduce` is active, the magnification effect is disabled â€” all items remain at their base size.

  ## API Reference

  <PropsTable componentId="glass-dock" autoAppendGenerated />

  ## Source

  ```tsx
  import { GlassDock } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
