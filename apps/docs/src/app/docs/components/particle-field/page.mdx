import { getRegistryItem } from "@glinui/registry"
import { ParticleField } from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"

export const dynamic = "force-static"
export const item = getRegistryItem("particle-field")
export const sources = getComponentSources(item?.files)
export const metadata = {
  title: "Particle Field - Glin UI",
  description: item?.description ?? "Ambient floating particle system with CSS-only staggered animations."
}

<ComponentDocLayout
  badgeLabel="Signature / Molecule"
  componentId="particle-field"
  implementation="css"
  title="Particle Field"
  description={item?.description ?? "Ambient floating particle system with CSS-only staggered animations."}
>
  ## Installation

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add particle-field"} />

  ## Usage

  Place `ParticleField` inside a relative container with `overflow-hidden`. Particles float upward with deterministic positioning — no layout shift between renders.

  ### Basic

  <ExampleBlock
    codeDefaultOpen
    code={`import { ParticleField } from "@glinui/ui"

export function ParticleFieldDemo() {
  return (
    <div className="relative flex h-64 w-full items-center justify-center overflow-hidden rounded-xl border border-neutral-200 bg-neutral-950 dark:border-neutral-800">
      <ParticleField color="rgba(255,255,255,0.6)" />
      <span className="relative z-10 text-3xl font-bold text-white">Particles</span>
    </div>
  )
}`}
  >
    <div className="relative flex h-64 w-full items-center justify-center overflow-hidden rounded-xl border border-neutral-200 bg-neutral-950 dark:border-neutral-800">
      <ParticleField color="rgba(255,255,255,0.6)" />
      <span className="relative z-10 text-3xl font-bold text-white">Particles</span>
    </div>
  </ExampleBlock>

  ## Examples

  ### Dense Field

  <ExampleBlock
    code={`import { ParticleField } from "@glinui/ui"

export function ParticleFieldDenseDemo() {
  return (
    <div className="relative flex h-64 w-full items-center justify-center overflow-hidden rounded-xl border border-neutral-200 bg-neutral-950 dark:border-neutral-800">
      <ParticleField count={60} maxSize={4} color="rgba(99,102,241,0.5)" />
      <span className="relative z-10 text-2xl font-bold text-white">Dense</span>
    </div>
  )
}`}
  >
    <div className="relative flex h-64 w-full items-center justify-center overflow-hidden rounded-xl border border-neutral-200 bg-neutral-950 dark:border-neutral-800">
      <ParticleField count={60} maxSize={4} color="rgba(99,102,241,0.5)" />
      <span className="relative z-10 text-2xl font-bold text-white">Dense</span>
    </div>
  </ExampleBlock>

  ### Square Particles

  <ExampleBlock
    code={`import { ParticleField } from "@glinui/ui"

export function ParticleFieldSquareDemo() {
  return (
    <div className="relative flex h-64 w-full items-center justify-center overflow-hidden rounded-xl border border-neutral-200 bg-neutral-950 dark:border-neutral-800">
      <ParticleField shape="square" count={20} minSize={3} maxSize={8} color="rgba(244,63,94,0.5)" />
      <span className="relative z-10 text-2xl font-bold text-white">Squares</span>
    </div>
  )
}`}
  >
    <div className="relative flex h-64 w-full items-center justify-center overflow-hidden rounded-xl border border-neutral-200 bg-neutral-950 dark:border-neutral-800">
      <ParticleField shape="square" count={20} minSize={3} maxSize={8} color="rgba(244,63,94,0.5)" />
      <span className="relative z-10 text-2xl font-bold text-white">Squares</span>
    </div>
  </ExampleBlock>

  ## Accessibility

  - The component renders with `aria-hidden` — invisible to assistive technologies.
  - Purely decorative; carries no semantic meaning.

  ## Reduced Motion

  All particle animations are paused via `motion-reduce:[animation:none]`. The static particles remain visible.

  ## API Reference

  <PropsTable componentId="particle-field" autoAppendGenerated />

  ## Source

  ```tsx
  import { ParticleField } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
