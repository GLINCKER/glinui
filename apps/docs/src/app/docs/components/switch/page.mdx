import { getRegistryItem } from "@glinui/registry"
import { Switch } from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"

export const dynamic = "force-static"
export const item = getRegistryItem("switch")
export const sources = getComponentSources(item?.files)
export const metadata = {
  title: "Switch - Glin UI",
  description: item?.description ?? "On/off control built on Radix switch primitive."
}

<ComponentDocLayout
  badgeLabel="Primitive / Atom"
  componentId="switch"
  implementation="radix"
  title="Switch"
  description={item?.description ?? "On/off control built on Radix switch primitive."}
>
  ## Installation

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add switch"} />

  ## Usage

  The Switch component wraps the Radix UI switch primitive with a fixed `h-6 w-11` track and `h-5 w-5` thumb.

  <ExampleBlock
    codeDefaultOpen
    code={`import { Switch } from "@glinui/ui"

export function SwitchBasicDemo() {
  return <Switch aria-label="Enable setting" />
}`}
  >
    <Switch aria-label="Enable setting" />
  </ExampleBlock>

  ### With Label

  <ExampleBlock
    code={`import { Switch } from "@glinui/ui"

export function SwitchLabelDemo() {
  return (
    <div className="flex items-center gap-2">
      <Switch id="airplane" />
      <label htmlFor="airplane" className="text-sm">Airplane mode</label>
    </div>
  )
}`}
  >
    <div className="flex items-center gap-2">
      <Switch id="airplane" />
      <label htmlFor="airplane" className="text-sm">Airplane mode</label>
    </div>
  </ExampleBlock>

  ## Examples

  ### Default Checked

  <ExampleBlock
    code={`import { Switch } from "@glinui/ui"

export function SwitchDefaultCheckedDemo() {
  return (
    <div className="flex items-center gap-2">
      <Switch id="notifications" defaultChecked />
      <label htmlFor="notifications" className="text-sm">Enable notifications</label>
    </div>
  )
}`}
  >
    <div className="flex items-center gap-2">
      <Switch id="notifications" defaultChecked />
      <label htmlFor="notifications" className="text-sm">Enable notifications</label>
    </div>
  </ExampleBlock>

  ### Disabled

  <ExampleBlock
    code={`import { Switch } from "@glinui/ui"

export function SwitchDisabledDemo() {
  return (
    <div className="flex flex-col gap-3">
      <div className="flex items-center gap-2">
        <Switch id="disabled-off" disabled />
        <label htmlFor="disabled-off" className="text-sm text-neutral-500">Disabled (off)</label>
      </div>
      <div className="flex items-center gap-2">
        <Switch id="disabled-on" disabled defaultChecked />
        <label htmlFor="disabled-on" className="text-sm text-neutral-500">Disabled (on)</label>
      </div>
    </div>
  )
}`}
  >
    <div className="flex flex-col gap-3">
      <div className="flex items-center gap-2">
        <Switch id="disabled-off" disabled />
        <label htmlFor="disabled-off" className="text-sm text-neutral-500">Disabled (off)</label>
      </div>
      <div className="flex items-center gap-2">
        <Switch id="disabled-on" disabled defaultChecked />
        <label htmlFor="disabled-on" className="text-sm text-neutral-500">Disabled (on)</label>
      </div>
    </div>
  </ExampleBlock>

  ### With Form Label

  <ExampleBlock
    code={`import { Switch } from "@glinui/ui"

export function SwitchFormDemo() {
  return (
    <div className="flex items-center justify-between rounded-lg border border-border/60 p-4">
      <div className="space-y-0.5">
        <p className="text-sm font-medium">Marketing emails</p>
        <p className="text-sm text-neutral-500">Receive emails about new products and features.</p>
      </div>
      <Switch id="marketing" aria-label="Marketing emails" />
    </div>
  )
}`}
  >
    <div className="flex items-center justify-between rounded-lg border border-border/60 p-4">
      <div className="space-y-0.5">
        <p className="text-sm font-medium">Marketing emails</p>
        <p className="text-sm text-neutral-500">Receive emails about new products and features.</p>
      </div>
      <Switch id="marketing" aria-label="Marketing emails" />
    </div>
  </ExampleBlock>

  ## Accessibility

  - Built on `@radix-ui/react-switch` which renders a native `button` with `role="switch"`.
  - Associates with a visible `label` via `htmlFor` / `id` pairing, or via `aria-label` when no visual label element is present.
  - Keyboard togglable with `Space` and `Enter`.
  - `aria-checked` is managed automatically by the primitive.

  ## Reduced Motion

  The thumb slide transition respects `prefers-reduced-motion` and removes the transform animation when enabled.

  ## API Reference

  <PropsTable componentId="switch" autoAppendGenerated />

  ## Source

  ```tsx
  import { Switch } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
