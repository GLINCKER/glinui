import { Button } from "@glinui/ui"
import { getRegistryItem } from "@glinui/registry"
import {
  TooltipProvider,
  Tooltip,
  TooltipTrigger,
  TooltipContent,
} from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"
import { createDocsMetadata } from "@/lib/docs-metadata"

export const dynamic = "force-static"
export const item = getRegistryItem("tooltip")
export const sources = getComponentSources(item?.files)
export const metadata = createDocsMetadata({
  title: "Tooltip",
  description: item?.description ?? "Context hint on hover/focus using Radix tooltip primitive.",
  path: "/docs/components/tooltip"
})

<ComponentDocLayout
  badgeLabel="Primitive / Atom"
  componentId="tooltip"
  implementation="radix"
  title="Tooltip"
  description={item?.description ?? "Context hint on hover/focus using Radix tooltip primitive."}
>
  ## Installation

  Install from the package for shared ownership or from the registry for copy-paste control.

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add tooltip"} />

  ## Usage

  Tooltip requires a `TooltipProvider` wrapping its usage context. Place it at the app root or around the component tree where tooltips appear to share the delay configuration.

  ### Basic

  <ExampleBlock
    codeDefaultOpen
    code={`import { Button } from "@glinui/ui"
import { TooltipProvider, Tooltip, TooltipTrigger, TooltipContent } from "@glinui/ui"

export function TooltipBasicDemo() {
  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Hover me</Button>
        </TooltipTrigger>
        <TooltipContent>
          <p>Tooltip content here</p>
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  )
}`}
  >
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Hover me</Button>
        </TooltipTrigger>
        <TooltipContent>
          <p>Tooltip content here</p>
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  </ExampleBlock>

  ## Examples

  ### Custom Delay

  Override the open delay per-tooltip by passing `delayDuration` to the `Tooltip` root. A delay of `0` opens instantly.

  <ExampleBlock
    code={`import { Button } from "@glinui/ui"
import { TooltipProvider, Tooltip, TooltipTrigger, TooltipContent } from "@glinui/ui"

export function TooltipDelayDemo() {
  return (
    <TooltipProvider>
      <div className="flex items-center gap-4">
        <Tooltip delayDuration={0}>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Instant</Button>
          </TooltipTrigger>
          <TooltipContent>
            <p>Opens immediately (0 ms)</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip delayDuration={700}>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Delayed</Button>
          </TooltipTrigger>
          <TooltipContent>
            <p>Opens after 700 ms</p>
          </TooltipContent>
        </Tooltip>
      </div>
    </TooltipProvider>
  )
}`}
  >
    <TooltipProvider>
      <div className="flex items-center gap-4">
        <Tooltip delayDuration={0}>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Instant</Button>
          </TooltipTrigger>
          <TooltipContent>
            <p>Opens immediately (0 ms)</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip delayDuration={700}>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Delayed</Button>
          </TooltipTrigger>
          <TooltipContent>
            <p>Opens after 700 ms</p>
          </TooltipContent>
        </Tooltip>
      </div>
    </TooltipProvider>
  </ExampleBlock>

  ### Side Positioning

  Use `side` on `TooltipContent` to anchor the hint above, below, left, or right of the trigger. The tooltip auto-adjusts to avoid viewport clipping.

  <ExampleBlock
    code={`import { Button } from "@glinui/ui"
import { TooltipProvider, Tooltip, TooltipTrigger, TooltipContent } from "@glinui/ui"

export function TooltipSideDemo() {
  return (
    <TooltipProvider>
      <div className="flex items-center justify-center gap-4">
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Top</Button>
          </TooltipTrigger>
          <TooltipContent side="top">
            <p>Top tooltip</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Right</Button>
          </TooltipTrigger>
          <TooltipContent side="right">
            <p>Right tooltip</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Bottom</Button>
          </TooltipTrigger>
          <TooltipContent side="bottom">
            <p>Bottom tooltip</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Left</Button>
          </TooltipTrigger>
          <TooltipContent side="left">
            <p>Left tooltip</p>
          </TooltipContent>
        </Tooltip>
      </div>
    </TooltipProvider>
  )
}`}
  >
    <TooltipProvider>
      <div className="flex items-center justify-center gap-4">
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Top</Button>
          </TooltipTrigger>
          <TooltipContent side="top">
            <p>Top tooltip</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Right</Button>
          </TooltipTrigger>
          <TooltipContent side="right">
            <p>Right tooltip</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Bottom</Button>
          </TooltipTrigger>
          <TooltipContent side="bottom">
            <p>Bottom tooltip</p>
          </TooltipContent>
        </Tooltip>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button variant="outline" size="sm">Left</Button>
          </TooltipTrigger>
          <TooltipContent side="left">
            <p>Left tooltip</p>
          </TooltipContent>
        </Tooltip>
      </div>
    </TooltipProvider>
  </ExampleBlock>

  ## Accessibility

  - Built on Radix Tooltip; the content is linked via `aria-describedby` on the trigger automatically.
  - Tooltip opens on focus as well as hover, ensuring keyboard users receive the same context hints.
  - Do not place interactive elements (buttons, links) inside `TooltipContent` â€” use a Popover for that pattern.
  - Keep tooltip text to a single short phrase. For longer explanations, prefer an inline description.

  ## Reduced Motion

  Tooltip fade and scale transitions respect `prefers-reduced-motion`. When enabled, the content appears instantly without animation.

  ## API Reference

  ### Tooltip

  <PropsTable componentId="tooltip" propsType="TooltipProps" autoAppendGenerated />

  ### TooltipContent

  <PropsTable componentId="tooltip" propsType="TooltipContentProps" autoAppendGenerated />

  ## Source

  ```tsx
  import { TooltipProvider, Tooltip, TooltipTrigger, TooltipContent } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
