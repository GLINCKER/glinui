import { getRegistryItem } from "@glinui/registry"
import { StatusDot } from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"

export const dynamic = "force-static"
export const item = getRegistryItem("status-dot")
export const sources = getComponentSources(item?.files)
export const metadata = {
  title: "StatusDot - Glin UI",
  description: item?.description ?? "Colored status indicator with optional label and pulse state."
}

<ComponentDocLayout
  badgeLabel="Primitive / Atom"
  componentId="status-dot"
  implementation="radix"
  title="StatusDot"
  description={item?.description ?? "Colored status indicator with optional label and pulse state."}
>
  ## Installation

  Install from the package for shared ownership or from the registry for copy-paste control.

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add status-dot"} />

  ## Usage

  `StatusDot` renders a colored circular indicator alongside an optional text label. Use it in list rows, dashboards, or nav items to communicate service health, user presence, or process state at a glance. The dot itself is `aria-hidden`; the label provides accessible context.

  ### Basic Statuses

  <ExampleBlock
    codeDefaultOpen
    code={`import { StatusDot } from "@glinui/ui"

export function StatusDotBasicDemo() {
  return (
    <div className="flex flex-col gap-2">
      <StatusDot status="neutral" label="Idle" />
      <StatusDot status="info" label="Syncing" />
      <StatusDot status="success" label="Operational" />
      <StatusDot status="warning" label="Degraded" />
      <StatusDot status="danger" label="Outage" />
    </div>
  )
}`}
  >
    <div className="flex flex-col gap-2">
      <StatusDot status="neutral" label="Idle" />
      <StatusDot status="info" label="Syncing" />
      <StatusDot status="success" label="Operational" />
      <StatusDot status="warning" label="Degraded" />
      <StatusDot status="danger" label="Outage" />
    </div>
  </ExampleBlock>

  ## Examples

  ### Pulse

  Enable `pulse` to add a `motion-safe:animate-pulse` animation to the dot. Useful for active or live states.

  <ExampleBlock
    code={`import { StatusDot } from "@glinui/ui"

export function StatusDotPulseDemo() {
  return (
    <div className="flex flex-col gap-2">
      <StatusDot status="success" label="Live" pulse />
      <StatusDot status="danger" label="Critical" pulse />
    </div>
  )
}`}
  >
    <div className="flex flex-col gap-2">
      <StatusDot status="success" label="Live" pulse />
      <StatusDot status="danger" label="Critical" pulse />
    </div>
  </ExampleBlock>

  ### Sizes

  <ExampleBlock
    code={`import { StatusDot } from "@glinui/ui"

export function StatusDotSizeDemo() {
  return (
    <div className="flex flex-col gap-2">
      <StatusDot status="success" size="sm" label="Small" />
      <StatusDot status="success" size="md" label="Medium" />
      <StatusDot status="success" size="lg" label="Large" />
    </div>
  )
}`}
  >
    <div className="flex flex-col gap-2">
      <StatusDot status="success" size="sm" label="Small" />
      <StatusDot status="success" size="md" label="Medium" />
      <StatusDot status="success" size="lg" label="Large" />
    </div>
  </ExampleBlock>

  ### Dot Only

  Omit the `label` prop to render a standalone colored dot — useful in compact table cells or avatar badges.

  <ExampleBlock
    code={`import { StatusDot } from "@glinui/ui"

export function StatusDotOnlyDemo() {
  return (
    <div className="flex items-center gap-3">
      <StatusDot status="neutral" />
      <StatusDot status="info" />
      <StatusDot status="success" />
      <StatusDot status="warning" />
      <StatusDot status="danger" />
    </div>
  )
}`}
  >
    <div className="flex items-center gap-3">
      <StatusDot status="neutral" />
      <StatusDot status="info" />
      <StatusDot status="success" />
      <StatusDot status="warning" />
      <StatusDot status="danger" />
    </div>
  </ExampleBlock>

  ### With Children

  Pass children instead of the `label` prop when you need richer label content. The `label` prop takes priority if both are provided.

  <ExampleBlock
    code={`import { StatusDot } from "@glinui/ui"

export function StatusDotChildrenDemo() {
  return (
    <StatusDot status="info">
      <span className="font-medium">Syncing</span>{" "}
      <span className="text-neutral-400">— 3 items remaining</span>
    </StatusDot>
  )
}`}
  >
    <StatusDot status="info">
      <span className="font-medium">Syncing</span>{" "}
      <span className="text-neutral-400">— 3 items remaining</span>
    </StatusDot>
  </ExampleBlock>

  ## Accessibility

  - The dot `<span>` is `aria-hidden="true"` — color alone does not convey meaning to assistive technologies.
  - Always supply a `label` or `children` describing the status in plain text.
  - When using `StatusDot` inside a live region (e.g. a dashboard that polls for updates), wrap it in `role="status"` with `aria-live="polite"`.

  ## Reduced Motion

  The `pulse` animation uses `motion-safe:animate-pulse`. Under `prefers-reduced-motion: reduce`, the dot renders as a static colored circle with no animation.

  ## API Reference

  <PropsTable componentId="status-dot" autoAppendGenerated />

  ## Source

  ```tsx
  import { StatusDot } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
