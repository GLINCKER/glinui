import { getRegistryItem } from "@glinui/registry"
import { SpotlightCard } from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"

export const dynamic = "force-static"
export const item = getRegistryItem("spotlight-card")
export const sources = getComponentSources(item?.files)
export const metadata = {
  title: "Spotlight Card - Glin UI",
  description: item?.description ?? "Card with cursor-tracked radial spotlight effect on hover."
}

<ComponentDocLayout
  badgeLabel="Signature / Molecule"
  componentId="spotlight-card"
  implementation="css"
  title="Spotlight Card"
  description={item?.description ?? "Card with cursor-tracked radial spotlight effect on hover."}
>
  ## Installation

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "npm install @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add spotlight-card"} />

  ## Usage

  `SpotlightCard` wraps `GlassCard` and tracks the cursor position via CSS custom properties `--spot-x` and `--spot-y` to project a radial spotlight onto the card surface. Move your pointer over the card below to see the effect.

  <ExampleBlock
    codeDefaultOpen
    code={`import { SpotlightCard } from "@glinui/ui"

export function SpotlightCardBasicDemo() {
  return (
    <div className="flex items-center justify-center min-h-[240px] bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      <SpotlightCard className="w-72">
        <p className="text-sm font-semibold text-foreground">Spotlight Card</p>
        <p className="mt-1 text-sm text-neutral-500 dark:text-neutral-400">
          Hover to reveal the cursor-tracked spotlight effect.
        </p>
      </SpotlightCard>
    </div>
  )
}`}
  >
    <div className="flex items-center justify-center min-h-[240px] bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      <SpotlightCard className="w-72">
        <p className="text-sm font-semibold text-foreground">Spotlight Card</p>
        <p className="mt-1 text-sm text-neutral-500 dark:text-neutral-400">
          Hover to reveal the cursor-tracked spotlight effect.
        </p>
      </SpotlightCard>
    </div>
  </ExampleBlock>

  ## Examples

  ### Custom Spotlight Color

  Pass `spotlightClassName` to override the radial gradient used for the spotlight. The overlay is a `radial-gradient` positioned at `--spot-x` / `--spot-y`, so swapping the color stop is the only change needed.

  <ExampleBlock
    code={`import { SpotlightCard } from "@glinui/ui"

export function SpotlightCardColorDemo() {
  return (
    <div className="flex flex-wrap items-center justify-center gap-4 bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      {/* Default — white light */}
      <SpotlightCard className="w-52">
        <p className="text-xs font-semibold text-neutral-400 uppercase tracking-widest">Default</p>
        <p className="mt-2 text-sm text-neutral-300">White radial light</p>
      </SpotlightCard>

      {/* Indigo accent */}
      <SpotlightCard
        className="w-52"
        spotlightClassName="[background:radial-gradient(220px_circle_at_var(--spot-x,_50%)_var(--spot-y,_50%),rgb(99_102_241_/_0.35),transparent_70%)]"
      >
        <p className="text-xs font-semibold text-neutral-400 uppercase tracking-widest">Indigo</p>
        <p className="mt-2 text-sm text-neutral-300">Accent-colored light</p>
      </SpotlightCard>

      {/* Amber warmth */}
      <SpotlightCard
        className="w-52"
        spotlightClassName="[background:radial-gradient(220px_circle_at_var(--spot-x,_50%)_var(--spot-y,_50%),rgb(251_191_36_/_0.3),transparent_70%)]"
      >
        <p className="text-xs font-semibold text-neutral-400 uppercase tracking-widest">Amber</p>
        <p className="mt-2 text-sm text-neutral-300">Warm golden light</p>
      </SpotlightCard>
    </div>
  )
}`}
  >
    <div className="flex flex-wrap items-center justify-center gap-4 bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      <SpotlightCard className="w-52">
        <p className="text-xs font-semibold text-neutral-400 uppercase tracking-widest">Default</p>
        <p className="mt-2 text-sm text-neutral-300">White radial light</p>
      </SpotlightCard>
      <SpotlightCard
        className="w-52"
        spotlightClassName="[background:radial-gradient(220px_circle_at_var(--spot-x,_50%)_var(--spot-y,_50%),rgb(99_102_241_/_0.35),transparent_70%)]"
      >
        <p className="text-xs font-semibold text-neutral-400 uppercase tracking-widest">Indigo</p>
        <p className="mt-2 text-sm text-neutral-300">Accent-colored light</p>
      </SpotlightCard>
      <SpotlightCard
        className="w-52"
        spotlightClassName="[background:radial-gradient(220px_circle_at_var(--spot-x,_50%)_var(--spot-y,_50%),rgb(251_191_36_/_0.3),transparent_70%)]"
      >
        <p className="text-xs font-semibold text-neutral-400 uppercase tracking-widest">Amber</p>
        <p className="mt-2 text-sm text-neutral-300">Warm golden light</p>
      </SpotlightCard>
    </div>
  </ExampleBlock>

  ### Sizes

  `SpotlightCard` inherits the `size` prop from `GlassCard` — `sm`, `md`, or `lg` — which controls internal padding.

  <ExampleBlock
    code={`import { SpotlightCard } from "@glinui/ui"

export function SpotlightCardSizeDemo() {
  return (
    <div className="flex flex-col gap-4 bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      <SpotlightCard size="sm" className="w-full">
        <p className="text-sm font-semibold text-foreground">Small — p-4</p>
        <p className="text-xs text-neutral-500 mt-1">Compact padding for dense layouts</p>
      </SpotlightCard>
      <SpotlightCard size="md" className="w-full">
        <p className="text-sm font-semibold text-foreground">Medium — p-6</p>
        <p className="text-xs text-neutral-500 mt-1">Default comfortable padding</p>
      </SpotlightCard>
      <SpotlightCard size="lg" className="w-full">
        <p className="text-sm font-semibold text-foreground">Large — p-8</p>
        <p className="text-xs text-neutral-500 mt-1">Generous padding for hero cards</p>
      </SpotlightCard>
    </div>
  )
}`}
  >
    <div className="flex flex-col gap-4 bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      <SpotlightCard size="sm" className="w-full">
        <p className="text-sm font-semibold text-foreground">Small — p-4</p>
        <p className="text-xs text-neutral-500 mt-1">Compact padding for dense layouts</p>
      </SpotlightCard>
      <SpotlightCard size="md" className="w-full">
        <p className="text-sm font-semibold text-foreground">Medium — p-6</p>
        <p className="text-xs text-neutral-500 mt-1">Default comfortable padding</p>
      </SpotlightCard>
      <SpotlightCard size="lg" className="w-full">
        <p className="text-sm font-semibold text-foreground">Large — p-8</p>
        <p className="text-xs text-neutral-500 mt-1">Generous padding for hero cards</p>
      </SpotlightCard>
    </div>
  </ExampleBlock>

  ### Feature Grid

  A common landing-page pattern: a grid of `SpotlightCard` components on a dark backdrop creates interactive feature sections with zero animation boilerplate.

  <ExampleBlock
    code={`import { SpotlightCard } from "@glinui/ui"

const features = [
  { title: "Fast by Default", body: "Zero-config tree-shaking and code splitting out of the box." },
  { title: "Type-Safe API", body: "Every prop is typed end-to-end with TypeScript generics." },
  { title: "Composable", body: "Radix primitives at the core — extend without fighting the API." },
]

export function SpotlightFeatureGridDemo() {
  return (
    <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      {features.map((f) => (
        <SpotlightCard key={f.title} size="sm">
          <p className="text-sm font-semibold text-foreground">{f.title}</p>
          <p className="mt-1 text-xs text-neutral-500 leading-relaxed">{f.body}</p>
        </SpotlightCard>
      ))}
    </div>
  )
}`}
  >
    <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gradient-to-br from-neutral-950 to-neutral-900 rounded-xl p-8">
      <SpotlightCard size="sm">
        <p className="text-sm font-semibold text-foreground">Fast by Default</p>
        <p className="mt-1 text-xs text-neutral-500 leading-relaxed">Zero-config tree-shaking and code splitting out of the box.</p>
      </SpotlightCard>
      <SpotlightCard size="sm">
        <p className="text-sm font-semibold text-foreground">Type-Safe API</p>
        <p className="mt-1 text-xs text-neutral-500 leading-relaxed">Every prop is typed end-to-end with TypeScript generics.</p>
      </SpotlightCard>
      <SpotlightCard size="sm">
        <p className="text-sm font-semibold text-foreground">Composable</p>
        <p className="mt-1 text-xs text-neutral-500 leading-relaxed">Radix primitives at the core — extend without fighting the API.</p>
      </SpotlightCard>
    </div>
  </ExampleBlock>

  ## Accessibility

  - The spotlight overlay carries `aria-hidden="true"` and `pointer-events-none` so it is invisible to assistive technology and cannot intercept interactions.
  - All content inside the card remains fully keyboard-accessible and semantically structured.
  - `SpotlightCard` does not modify focus behavior — interactive children (buttons, links) work as expected.

  ## Reduced Motion

  The spotlight overlay is hidden entirely when `prefers-reduced-motion: reduce` is set via `motion-reduce:hidden`. The underlying `GlassCard` hover transition (`transform`, `box-shadow`) is also disabled via `motion-reduce:transition-none` and `motion-reduce:hover:translate-y-0`, ensuring zero motion for users who prefer it.

  ## API Reference

  ### SpotlightCard

  Accepts all props from `GlassCard` (which in turn accepts all `div` HTML attributes). The only additional prop is `spotlightClassName`.

  <PropsTable componentId="spotlight-card" autoAppendGenerated />

  ## Source

  ```tsx
  import { SpotlightCard } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
