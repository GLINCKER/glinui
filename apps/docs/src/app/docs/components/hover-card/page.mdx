import { getRegistryItem } from "@glinui/registry"
import { Avatar, Badge, HoverCard, HoverCardContent, HoverCardTrigger } from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"
import { createDocsMetadata } from "@/lib/docs-metadata"

export const dynamic = "force-static"
export const item = getRegistryItem("hover-card")
export const sources = getComponentSources(item?.files)
export const metadata = createDocsMetadata({
  title: "Hover Card",
  description: item?.description ?? "Preview card that appears on hover or focus with configurable delays and placement.",
  path: "/docs/components/hover-card"
})

<ComponentDocLayout
  badgeLabel="Primitive / Molecule"
  componentId="hover-card"
  implementation="radix"
  title="Hover Card"
  description={item?.description ?? "Preview card that appears on hover or focus with configurable delays and placement."}
>
  ## Installation

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add hover-card"} />

  ## Usage

  <ExampleBlock
    codeDefaultOpen
    code={`import { Avatar, HoverCard, HoverCardContent, HoverCardTrigger } from "@glinui/ui"

export function HoverCardBasicDemo() {
  return (
    <HoverCard>
      <HoverCardTrigger asChild>
        <button className="inline-flex items-center gap-2 text-sm font-medium underline decoration-dotted underline-offset-4">
          <Avatar fallback="GL" size="sm" />
          @glinui
        </button>
      </HoverCardTrigger>
      <HoverCardContent>
        <div className="space-y-1">
          <p className="text-sm font-semibold">@glinui</p>
          <p className="text-xs text-neutral-600 dark:text-neutral-300">
            Glass-first component system for modern interfaces.
          </p>
        </div>
      </HoverCardContent>
    </HoverCard>
  )
}`}
  >
    <HoverCard>
      <HoverCardTrigger asChild>
        <button className="inline-flex items-center gap-2 text-sm font-medium underline decoration-dotted underline-offset-4">
          <Avatar fallback="GL" size="sm" />
          @glinui
        </button>
      </HoverCardTrigger>
      <HoverCardContent>
        <div className="space-y-1">
          <p className="text-sm font-semibold">@glinui</p>
          <p className="text-xs text-neutral-600 dark:text-neutral-300">
            Glass-first component system for modern interfaces.
          </p>
        </div>
      </HoverCardContent>
    </HoverCard>
  </ExampleBlock>

  ## Examples

  ### Delays and Surfaces

  <ExampleBlock
    code={`import { Badge, HoverCard, HoverCardContent, HoverCardTrigger } from "@glinui/ui"

export function HoverCardDelayDemo() {
  return (
    <div className="flex flex-wrap items-center gap-4">
      <HoverCard openDelay={0} closeDelay={150}>
        <HoverCardTrigger asChild>
          <button className="text-sm font-medium underline decoration-dotted underline-offset-4">
            Instant preview
          </button>
        </HoverCardTrigger>
        <HoverCardContent variant="glass" size="sm">
          <div className="space-y-2">
            <Badge variant="glass">glass</Badge>
            <p className="text-xs text-neutral-600 dark:text-neutral-300">Open delay: 0ms</p>
          </div>
        </HoverCardContent>
      </HoverCard>
      <HoverCard openDelay={500} closeDelay={250}>
        <HoverCardTrigger asChild>
          <button className="text-sm font-medium underline decoration-dotted underline-offset-4">
            Delayed preview
          </button>
        </HoverCardTrigger>
        <HoverCardContent variant="outline" size="md">
          <p className="text-xs text-neutral-600 dark:text-neutral-300">
            Opens after 500ms with outline surface.
          </p>
        </HoverCardContent>
      </HoverCard>
    </div>
  )
}`}
  >
    <div className="flex flex-wrap items-center gap-4">
      <HoverCard openDelay={0} closeDelay={150}>
        <HoverCardTrigger asChild>
          <button className="text-sm font-medium underline decoration-dotted underline-offset-4">
            Instant preview
          </button>
        </HoverCardTrigger>
        <HoverCardContent variant="glass" size="sm">
          <div className="space-y-2">
            <Badge variant="glass">glass</Badge>
            <p className="text-xs text-neutral-600 dark:text-neutral-300">Open delay: 0ms</p>
          </div>
        </HoverCardContent>
      </HoverCard>
      <HoverCard openDelay={500} closeDelay={250}>
        <HoverCardTrigger asChild>
          <button className="text-sm font-medium underline decoration-dotted underline-offset-4">
            Delayed preview
          </button>
        </HoverCardTrigger>
        <HoverCardContent variant="outline" size="md">
          <p className="text-xs text-neutral-600 dark:text-neutral-300">
            Opens after 500ms with outline surface.
          </p>
        </HoverCardContent>
      </HoverCard>
    </div>
  </ExampleBlock>

  ## Accessibility

  - Opens on both hover and keyboard focus.
  - Use concise supplemental content, not primary actions.
  - Keep the trigger semantic and focusable (`button`, `a`, etc.).
  - For interactive panels, prefer `Popover`.

  ## Reduced Motion

  Hover-card enter and exit transitions respect `prefers-reduced-motion`.

  ## API Reference

  ### HoverCard

  <PropsTable componentId="hover-card" propsType="HoverCardProps" autoAppendGenerated />

  ### HoverCardContent

  <PropsTable componentId="hover-card" propsType="HoverCardContentProps" autoAppendGenerated />

  ## Source

  ```tsx
  import { HoverCard, HoverCardTrigger, HoverCardContent } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
