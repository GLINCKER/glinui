import { getRegistryItem } from "@glinui/registry"
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTitle,
  AlertDialogTrigger,
  Button
} from "@glinui/ui"
import { ComponentDocLayout } from "@/components/docs/component-doc-layout"
import { ExampleBlock } from "@/components/docs/example-block"
import { InstallTabs } from "@/components/docs/install-tabs"
import { getComponentSources } from "@/lib/get-component-source"
import { PropsTable } from "@/components/docs/props-table"
import { createDocsMetadata } from "@/lib/docs-metadata"

export const dynamic = "force-static"
export const item = getRegistryItem("alert-dialog")
export const sources = getComponentSources(item?.files)
export const metadata = createDocsMetadata({
  title: "Alert Dialog",
  description: item?.description ?? "Destructive action confirmation dialog with explicit cancel and action controls.",
  path: "/docs/components/alert-dialog"
})

<ComponentDocLayout
  badgeLabel="Primitive / Molecule"
  componentId="alert-dialog"
  implementation="radix"
  title="Alert Dialog"
  description={item?.description ?? "Destructive action confirmation dialog with explicit cancel and action controls."}
>
  ## Installation

  ### Package Manager

  <InstallTabs sources={sources} command={item?.install.package ?? "pnpm add @glinui/ui @glinui/tokens"} />

  ### Registry

  <InstallTabs command={item?.install.registry ?? "pnpm dlx @glinui/cli@latest add alert-dialog"} />

  ## Usage

  <ExampleBlock
    codeDefaultOpen
    code={`import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTitle,
  AlertDialogTrigger,
  Button
} from "@glinui/ui"

export function AlertDialogBasicDemo() {
  return (
    <AlertDialog>
      <AlertDialogTrigger asChild>
        <Button variant="matte">Delete project</Button>
      </AlertDialogTrigger>
      <AlertDialogContent>
        <AlertDialogHeader>
          <AlertDialogTitle>Delete project?</AlertDialogTitle>
          <AlertDialogDescription>
            This action cannot be undone and will permanently remove all project data.
          </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel>Cancel</AlertDialogCancel>
          <AlertDialogAction>Delete</AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  )
}`}
  >
    <AlertDialog>
      <AlertDialogTrigger asChild>
        <Button variant="matte">Delete project</Button>
      </AlertDialogTrigger>
      <AlertDialogContent>
        <AlertDialogHeader>
          <AlertDialogTitle>Delete project?</AlertDialogTitle>
          <AlertDialogDescription>
            This action cannot be undone and will permanently remove all project data.
          </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel>Cancel</AlertDialogCancel>
          <AlertDialogAction>Delete</AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  </ExampleBlock>

  ## Examples

  ### Glass Surface

  <ExampleBlock
    code={`import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTitle,
  AlertDialogTrigger,
  Button
} from "@glinui/ui"

export function AlertDialogGlassDemo() {
  return (
    <AlertDialog>
      <AlertDialogTrigger asChild>
        <Button variant="glass">Archive workspace</Button>
      </AlertDialogTrigger>
      <AlertDialogContent variant="glass" size="sm">
        <AlertDialogHeader>
          <AlertDialogTitle>Archive workspace?</AlertDialogTitle>
          <AlertDialogDescription>
            Members will lose write access until you restore the workspace.
          </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel>Not now</AlertDialogCancel>
          <AlertDialogAction variant="glass">Archive</AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  )
}`}
  >
    <AlertDialog>
      <AlertDialogTrigger asChild>
        <Button variant="glass">Archive workspace</Button>
      </AlertDialogTrigger>
      <AlertDialogContent variant="glass" size="sm">
        <AlertDialogHeader>
          <AlertDialogTitle>Archive workspace?</AlertDialogTitle>
          <AlertDialogDescription>
            Members will lose write access until you restore the workspace.
          </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel>Not now</AlertDialogCancel>
          <AlertDialogAction variant="glass">Archive</AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  </ExampleBlock>

  ## Accessibility

  - Uses `role="alertdialog"` semantics through Radix.
  - Focus is trapped inside the dialog while open.
  - `Escape` closes and returns focus to the trigger element.
  - Keep destructive copy explicit in `AlertDialogTitle` and `AlertDialogDescription`.

  ## Reduced Motion

  Overlay and panel animations respect `prefers-reduced-motion` and reduce to instant state changes.

  ## API Reference

  `AlertDialog` exposes Radix root state props (`open`, `defaultOpen`, `onOpenChange`) and composes
  trigger/content/action parts for explicit destructive confirmation flows.

  ### AlertDialogContent

  <PropsTable componentId="alert-dialog" propsType="AlertDialogContentProps" autoAppendGenerated />

  ### AlertDialogAction

  <PropsTable componentId="alert-dialog" propsType="AlertDialogActionProps" autoAppendGenerated />

  ## Source

  ```tsx
  import {
    AlertDialog,
    AlertDialogTrigger,
    AlertDialogContent,
    AlertDialogHeader,
    AlertDialogTitle,
    AlertDialogDescription,
    AlertDialogFooter,
    AlertDialogCancel,
    AlertDialogAction
  } from "@glinui/ui"
  ```

  {item?.files?.map((file) => (
    <div key={file} className="font-mono text-sm text-neutral-600 dark:text-neutral-300">
      {file}
    </div>
  ))}
</ComponentDocLayout>
